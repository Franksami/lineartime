# üîí Linear Calendar - Foundation Locked

**"Life is bigger than a week"** - The world's first true linear calendar with a revolutionary **horizontal timeline** that displays an entire year as 12 continuous month rows.

## üéØ Foundation Achievement

**Date Locked**: December 2024 ‚úÖ **FOUNDATION IMPLEMENTATION ACHIEVED**

Linear Calendar presents an entire year in a **12-month horizontal row structure**, with each month displayed as a complete horizontal strip showing all days 01-31. This breakthrough design allows users to see the year as one continuous timeline, embodying the philosophy that "Life is bigger than a week."

### **üîí Locked Foundation Structure (IMMUTABLE)**
- **12 Horizontal Month Rows**: Jan through Dec, each showing complete months
- **Week Day Headers**: "Su Mo Tu We Th Fr Sa" at TOP and BOTTOM spanning full width  
- **Month Labels**: Positioned on BOTH left AND right sides of each row
- **Complete Day Display**: 01-31 for each month with proper week alignment
- **Year Header**: "2025 Linear Calendar" title + "Life is bigger than a week" tagline
- **Performance Excellence**: 112 FPS, 91MB memory, professional rendering

## ‚ú® Current Features (v0.3.3) - Calendar Integration Platform Complete

### **üîí Foundation Features (IMMUTABLE & PRESERVED)**
- **Horizontal Timeline**: All 12 months in continuous horizontal rows (locked structure)
- **Complete Month Display**: Each month shows all days 01-31 with proper week alignment
- **Year-at-a-Glance**: Entire year visible in one view embodying "Life is bigger than a week"
- **Week Day Headers**: Repeating "Su Mo Tu We Th Fr Sa" at top and bottom spanning full width
- **Month Labels**: Present on both left and right sides of each month row
- **Professional Grid**: Bordered cell structure with weekend highlighting
- **Performance Excellence**: 112+ FPS rendering, optimized memory usage

### **üè¢ Integration Dashboard (Current v0.3.3)**
- **Enterprise Dashboard**: Comprehensive monitoring interface at `/integration-dashboard`
- **6-Tab Architecture**: Providers, Libraries, Sync Monitor, Security, Analytics, Testing
- **Real-Time Analytics**: Interactive Recharts visualizations with live data updates
- **Security Monitoring**: SOC 2, GDPR, ISO 27001 compliance dashboard with live threat tracking
- **Sync Queue Monitor**: Live job tracking with exponential backoff visualization
- **API Testing Center**: Comprehensive endpoint testing for all 4 calendar providers
- **Calendar Library Showcase**: Interactive switching between all 10 supported libraries
- **4 Specialized Components**: 580+ line main dashboard orchestrating real-time integrations
- **Production Deployment**: Successfully running with <1.5s load time, ~90MB memory usage

### **ü§ñ AI-Powered Features (Foundation)**
- **Anthropic Claude Integration**: Advanced AI scheduling with Claude 3.5 Sonnet & Haiku
- **Intelligent Event Parsing**: Natural language event creation and understanding
- **Smart Scheduling Assistant**: AI-powered time slot suggestions and conflict resolution
- **Real-time AI Chat**: Streaming AI responses for calendar management
- **Advanced Scheduling Engine**: Machine learning-based optimal time recommendations

### **üîä Sound Effects & User Experience (v0.3.3 - NEW)**
- **Intelligent Audio Feedback**: Subtle sound effects using use-sound React hook (1KB + async Howler.js)
- **Accessibility-First Design**: Respects prefers-reduced-motion and browser autoplay policies
- **Comprehensive Sound Settings**: Volume control, per-type toggles, and sound preview buttons
- **Event Operation Sounds**: Success sounds for event creation/updates, notification sounds for sync operations
- **Cross-Browser Compatibility**: Works across Chrome, Firefox, Safari, and Edge with graceful degradation
- **Performance Optimized**: Maintains 112+ FPS performance with minimal bundle impact
- **Settings Persistence**: Sound preferences saved to localStorage with global settings integration

### **üè¢ Calendar Integration Platform (v0.3.3 - ENTERPRISE-GRADE)**
- **4-Provider Integration**: Google Calendar, Microsoft Graph, Apple CalDAV, Generic CalDAV
- **Server-Side AES-256-GCM Encryption**: Zero client-side credential storage for maximum security
- **Real-Time Webhook System**: Push notifications with automatic renewal and exponential backoff
- **Background Sync Queue**: Intelligent job processing with priority scheduling and retry logic
- **10 Calendar Library Support**: Unified CalendarProvider architecture with seamless switching
- **Event Transformation System**: Bidirectional provider-to-unified event mapping
- **Enterprise Security**: Comprehensive audit logging, SOC 2/GDPR compliance, threat detection
- **OAuth 2.0 Integration**: Secure authentication flows for Google and Microsoft providers

### **üéõÔ∏è Convex Backend Integration (Foundation - PRESERVED)**
- **Complete Convex + Clerk + Stripe Integration**: Real-time backend with user management and billing
- **Direct Webhook Handling**: Clerk user lifecycle via `convex/http.ts` with Svix signature verification
- **Automatic User Onboarding**: Free tier subscription initialization for all new users
- **Billing System**: Complete Stripe integration with graceful API fallbacks (development-friendly)
- **Real-time Data Sync**: Live updates across all connected clients via Convex
- **Security by Default**: Production-ready webhook verification and error handling

### **üé® Design System Migration (v0.3.1 - BREAKING CHANGES)**
- **Pure shadcn/Vercel Tokens**: Complete migration from glass effects to semantic design tokens
- **CI Enforcement**: `scripts/ci-guard.js` prevents non-token colors and glass effects in production
- **Token-Only Theming**: All components use `bg-background`, `bg-card`, `text-foreground`, `border-border`
- **BREAKING**: Glass effects and backdrop-blur completely removed from codebase

### **üìä Timeline Architecture Redesign (v0.3.1)**
- **Vertical Timeline View**: New month-by-month vertical layout (read-only)
- **Centralized Editing**: Event editing moved to Manage view and Command Bar only
- **Enhanced Organization**: Event cards organized by month with improved visual hierarchy
- **All Filters Preserved**: Complete filtering capabilities maintained with better UX

### **üöÄ Advanced Features (Enhanced & Integrated)**
- **Event Management**: Create, edit, delete events with Convex real-time sync + IndexedDB cache
- **Event Categories**: Color-coded categories with token-based styling (personal, work, effort, note)
- **Touch Gestures**: Mobile-optimized with pinch-zoom, long-press, swipe navigation  
- **AI Assistant**: Vercel AI SDK v5 with GPT-4o-mini for intelligent scheduling
- **Natural Language**: CommandBar with Chrono.js for "meeting tomorrow at 2pm" parsing
- **Drag & Drop**: Full event management with @dnd-kit integration
- **Zoom Controls**: 6 levels (fullYear, year, quarter, month, week, day)
- **Accessibility**: Full keyboard navigation, screen reader support, WCAG 2.1 AA maintained
- **Mobile Support**: Responsive design preserving horizontal timeline identity

### **üíª Testing Infrastructure (v0.3.1 - NEW)**
- **185 Comprehensive Tests**: Complete integration validation across 2 test suites
- **Convex-Clerk Integration Tests**: 105 tests covering user lifecycle and webhook handling
- **System Validation Tests**: 80 tests covering performance and cross-browser compatibility
- **Continuous Integration**: Automated testing with foundation protection validation

### UI/UX (Updated v0.3.1)
- **Token-Only Design**: Pure semantic design tokens (glass effects removed)
- **shadcn/Vercel Theme**: Modern design system with oklch color space
- **Full-Screen Layout**: Edge-to-edge immersive calendar view
- **Pure Black Background**: `oklch(0 0 0)` for maximum contrast via `bg-background` token
- **Responsive Design**: Adapts to different screen sizes with token consistency
- **Keyboard Support**: Tab navigation and escape key handling
- **Visual Feedback**: Hover states and selection indicators with token-based styling
- **Today Highlight**: Current date prominently marked
- **Weekend Distinction**: Weekends visually differentiated
- **WCAG 2.1 AA**: Accessibility compliance maintained across all components

## üöÄ Development Progress & Next Phase

### **‚úÖ Phase 2.7 Complete - Ultimate Integration Dashboard**
- ‚úÖ **Enterprise Dashboard**: 6-tab monitoring interface with real-time analytics
- ‚úÖ **4-Provider Integration**: Google, Microsoft, Apple CalDAV, Generic CalDAV
- ‚úÖ **10 Calendar Libraries**: Unified provider architecture with seamless switching
- ‚úÖ **Security Compliance**: SOC 2, GDPR, ISO 27001 monitoring dashboard
- ‚úÖ **Real-Time Monitoring**: Live sync queue, API testing, performance metrics
- ‚úÖ **Production Deployment**: Successfully running at localhost:3000/integration-dashboard

### **‚úÖ Previous Foundation (Preserved)**
- ‚úÖ **Real-time Collaboration**: Complete Convex backend integration
- ‚úÖ **Enterprise Backend**: User management, billing, webhooks 
- ‚úÖ **Design System Migration**: Token-only theming with CI enforcement
- ‚úÖ **Timeline Architecture**: Vertical view with centralized editing
- ‚úÖ **Comprehensive Testing**: 185 tests across integration validation

### **Phase 2.8: Advanced Integration Features (NEXT FOCUS)**
- **Real-Time Data Integration**: Connect integration dashboard to live Convex backend data
- **WebSocket Implementation**: Replace mock data with real-time streaming updates
- **Calendar Sync Optimization**: Enhanced sync performance with batch operations
- **Provider Health Monitoring**: Advanced monitoring with automated alerts and recovery
- **Cross-Calendar Scheduling**: Multi-provider event coordination and conflict resolution
- **Integration API Gateway**: Unified API for external system integrations

### **Phase 3.0: AI-Powered Enterprise Platform (HIGH PRIORITY)**
- **AI Scheduling Optimization**: Cross-provider intelligent scheduling with machine learning
- **Natural Language Processing**: Advanced event creation and management with AI
- **Smart Conflict Resolution**: AI-powered conflict detection and automatic resolution
- **Predictive Calendar Management**: Proactive scheduling suggestions and workload balancing
- **Enterprise SSO Integration**: SAML/OIDC support for enterprise customers
- **Multi-Tenant Architecture**: Organization-level calendar management and permissions

### **Phase 3.1: Advanced Features (MEDIUM PRIORITY)**
- Multi-day event spanning across month rows
- Recurring events with foundation compatibility
- Canvas rendering activation for 10K+ events
- Virtual scrolling performance optimization
- Advanced analytics and insights dashboard expansion

### **Phase 3.2: Platform Expansion (FUTURE)**
- Mobile application (preserving horizontal timeline identity)
- Desktop application (Electron/Tauri)
- Browser extension for quick event capture
- API for third-party integrations
- Workflow automation and integrations

## Tech Stack (v0.3.3 - Enterprise Grade)

### **Core Framework**
- **Framework**: [Next.js 15.5.0](https://nextjs.org/) with Turbopack
- **Language**: [TypeScript 5.0](https://www.typescriptlang.org/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/) with oklch color space + semantic tokens
- **Design System**: Pure shadcn/Vercel tokens via [shadcn/ui](https://ui.shadcn.com/)

### **Backend Integration (ACTIVE)**
- **Real-time Database**: [Convex](https://www.convex.dev/) - Primary data layer with live updates
- **Authentication**: [Clerk](https://clerk.com/) - User lifecycle management via webhooks
- **Billing**: [Stripe](https://stripe.com/) - Subscription management with graceful fallbacks
- **Webhook Security**: [Svix](https://www.svix.com/) - Signature verification for production security

### **Data & Persistence**
- **Primary Storage**: Convex real-time database
- **Local Cache**: IndexedDB with Dexie for offline support  
- **Date Handling**: [date-fns](https://date-fns.org/)
- **AI Integration**: Vercel AI SDK v5 with GPT-4o-mini
- **Sound Effects**: [use-sound](https://github.com/joshwcomeau/use-sound) + [Howler.js](https://howlerjs.com/) for audio feedback

### **Development & Testing**
- **Project Management**: Task Master AI for development workflow
- **Testing**: Playwright with 185 comprehensive integration tests
- **CI/CD**: GitHub Actions with automated foundation protection
- **Quality**: CI guard system preventing non-token colors and glass effects

## Getting Started

### Prerequisites
- Node.js 18+ 
- pnpm (recommended) or npm

### Installation (v0.3.3)

```bash
# Clone the repository
git clone https://github.com/yourusername/lineartime.git
cd lineartime

# Install dependencies
pnpm install

# Set up environment variables for v0.3.1
cp .env.example .env.local

# Required for core functionality (v0.3.1)
NEXT_PUBLIC_CONVEX_URL=https://incredible-ibis-307.convex.cloud
CLERK_WEBHOOK_SECRET=whsec_[your_clerk_webhook_secret]
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_[your_clerk_key]

# Optional - graceful fallbacks when missing (development-friendly)
STRIPE_SECRET_KEY=sk_test_[your_stripe_key_or_placeholder]
STRIPE_WEBHOOK_SECRET=whsec_[your_stripe_webhook_secret]
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_[your_stripe_publishable_key]

# Run development server  
pnpm dev

# Test foundation compliance (MANDATORY before commits)
npm run test:foundation
npm run test:all    # Run full integration test suite (185 tests)
```

Open [http://localhost:3000](http://localhost:3000) to see the Linear Calendar foundation in action.

### **üß™ Testing Requirements**
Following our **comprehensive testing methodology**, all feature development must:
```bash
# 1. Foundation Protection Testing (MANDATORY)
npm run test:foundation

# 2. Full Test Suite (REQUIRED for PRs)
npm run test:all

# 3. Build Validation (REQUIRED)
npm run build && npm run lint
```

## Project Structure

```
lineartime/
‚îú‚îÄ‚îÄ .ai-rules/                   # AI assistant rules and configurations
‚îÇ   ‚îú‚îÄ‚îÄ .claude/                # Claude AI rules
‚îÇ   ‚îú‚îÄ‚îÄ .roo/                   # Roo AI rules
‚îÇ   ‚îú‚îÄ‚îÄ .trae/                  # Trae AI rules
‚îÇ   ‚îú‚îÄ‚îÄ .windsurf/              # Windsurf AI rules
‚îÇ   ‚îú‚îÄ‚îÄ .gemini/                # Gemini AI rules
‚îÇ   ‚îî‚îÄ‚îÄ .clinerules/            # Cline AI rules
‚îú‚îÄ‚îÄ .config/                     # Configuration files
‚îÇ   ‚îú‚îÄ‚îÄ .prettierrc             # Code formatting rules
‚îÇ   ‚îî‚îÄ‚îÄ README.md               # Configuration documentation
‚îú‚îÄ‚îÄ .github/                     # GitHub workflows and templates
‚îú‚îÄ‚îÄ .taskmaster/                 # Project management and tasks
‚îú‚îÄ‚îÄ app/                         # Next.js app directory
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                # Main calendar page
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx              # Root layout with providers
‚îÇ   ‚îú‚îÄ‚îÄ globals.css             # Global styles and theme
‚îÇ   ‚îú‚îÄ‚îÄ sign-in/                # Authentication pages
‚îÇ   ‚îî‚îÄ‚îÄ sign-up/                # Authentication pages
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ calendar/               # Calendar components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LinearCalendarHorizontal.tsx  # Main calendar component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventModal.tsx              # Event creation/editing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FilterPanel.tsx             # Category filters
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReflectionModal.tsx         # Year reflection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ZoomControls.tsx            # View controls
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                    # Exports
‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # shadcn/ui components
‚îÇ   ‚îî‚îÄ‚îÄ glass/                  # Glass morphism components
‚îú‚îÄ‚îÄ convex/                      # Backend configuration
‚îú‚îÄ‚îÄ docs/                        # Project documentation
‚îÇ   ‚îú‚îÄ‚îÄ README.md               # Documentation index
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md         # System architecture
‚îÇ   ‚îú‚îÄ‚îÄ COMPONENTS.md           # Component library
‚îÇ   ‚îú‚îÄ‚îÄ CHANGELOG.md            # Version history
‚îÇ   ‚îú‚îÄ‚îÄ CLAUDE.md               # Claude AI configuration
‚îÇ   ‚îú‚îÄ‚îÄ CALENDAR_IMPLEMENTATION_SUMMARY.md  # Calendar implementation
‚îÇ   ‚îî‚îÄ‚îÄ LINEAR_CALENDAR_DESIGN.md           # Calendar design specs
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useLinearCalendar.ts    # Calendar state management
‚îÇ   ‚îî‚îÄ‚îÄ use-mobile.ts           # Responsive utilities
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts                # Utility functions
‚îú‚îÄ‚îÄ public/                      # Static assets
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ calendar.ts             # TypeScript definitions
‚îú‚îÄ‚îÄ [config files]               # Essential config files (in root)
‚îÇ   ‚îú‚îÄ‚îÄ next.config.ts          # Next.js configuration
‚îÇ   ‚îú‚îÄ‚îÄ tailwind.config.ts      # Tailwind CSS configuration
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json           # TypeScript configuration
‚îÇ   ‚îú‚îÄ‚îÄ eslint.config.mjs       # ESLint configuration
‚îÇ   ‚îî‚îÄ‚îÄ package.json            # Dependencies and scripts
‚îî‚îÄ‚îÄ README.md                    # This file - project overview
```

## Development

This project uses Task Master AI for project management. To view current tasks:

```bash
task-master list        # View all tasks
task-master next        # Get next task to work on
task-master show <id>   # View task details
```

## Contributing

Contributions are welcome! Please read our contributing guidelines before submitting PRs.

## License

MIT

## Acknowledgments

Built with inspiration from physical year planners and the need for better long-term planning tools.