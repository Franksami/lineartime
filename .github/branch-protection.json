{
  "branch": "main",
  "protection_rules": {
    "required_status_checks": {
      "strict": true,
      "checks": [
        {
          "context": "quality-gates",
          "app_id": null
        },
        {
          "context": "command-workspace-validation",
          "app_id": null
        },
        {
          "context": "e2e-tests",
          "app_id": null
        }
      ]
    },
    "enforce_admins": false,
    "required_pull_request_reviews": {
      "dismiss_stale_reviews": true,
      "require_code_owner_reviews": true,
      "required_approving_review_count": 1,
      "require_last_push_approval": false,
      "bypass_pull_request_allowances": {
        "users": [],
        "teams": ["maintainers"]
      }
    },
    "restrictions": {
      "users": [],
      "teams": ["developers", "maintainers"],
      "apps": ["dependabot", "renovate"]
    },
    "allow_force_pushes": false,
    "allow_deletions": false,
    "block_creations": false,
    "required_conversation_resolution": true,
    "lock_branch": false,
    "allow_fork_syncing": true,
    "required_deployments": {
      "environments": ["preview"]
    },
    "required_linear_history": true,
    "merge_queue": {
      "enabled": true,
      "merge_method": "squash",
      "min_entries_to_merge": 1,
      "max_entries_to_merge": 5,
      "wait_time_minutes": 5
    }
  },
  "auto_merge_rules": {
    "enabled": true,
    "conditions": {
      "author": ["dependabot[bot]", "renovate[bot]"],
      "labels": ["dependencies", "security"],
      "max_files_changed": 10,
      "paths_ignored": ["*.md", "docs/", ".github/"]
    },
    "merge_method": "squash",
    "delete_branch_on_merge": true
  },
  "commit_restrictions": {
    "signed_commits_required": false,
    "commit_message_pattern": "^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\\(.+\\))?: .{1,100}$",
    "commit_message_negative_pattern": "WIP|TODO|FIXME|XXX",
    "max_commit_size_kb": 5000
  },
  "pr_requirements": {
    "title_pattern": "^(\\[.+\\]\\s)?(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\\(.+\\))?: .{1,100}$",
    "description_template_enforced": true,
    "labels_required": ["type", "priority"],
    "milestone_required": false,
    "projects_required": false,
    "linked_issues_required": true
  }
}